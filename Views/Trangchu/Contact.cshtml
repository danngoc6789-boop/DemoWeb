@{
    ViewBag.Title = "Liên hệ";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@section Breadcrumb {
    <div class="breadcrumb-box">
        <a href="@Url.Action("Index","Trangchu")">Trang chủ</a>
        <span class="breadcrumb-sep">/</span>
        <span>Liên hệ</span>
    </div>
}


<!-- KHU LIÊN HỆ -->
<div class="row contact-row" style="margin-bottom:24px;">

    <!-- BÊN TRÁI: FORM GỬI LIÊN HỆ -->
    <div class="col-md-6" style="margin-top:24px;">

        <div class="product-card" style="margin-bottom:0; text-align:left;">
            <div style="font-size:0.8rem;
                        font-weight:600;
                        text-transform:uppercase;
                        letter-spacing:.08em;
                        color:var(--brand-gold);
                        margin-bottom:12px;">
                Gửi tin nhắn cho chúng tôi
            </div>

            <!-- Hiển thị thông báo -->
            @if (TempData["Success"] != null)
            {
                <div style="margin-bottom:16px;
                           padding:12px;
                           background:#d4edda;
                           border:1px solid #c3e6cb;
                           border-radius:8px;
                           color:#155724;">
                    <i class="fa fa-check-circle"></i> @TempData["Success"]
                </div>
            }

            @if (TempData["Error"] != null)
            {
                <div style="margin-bottom:16px;
                           padding:12px;
                           background:#f8d7da;
                           border:1px solid #f5c6cb;
                           border-radius:8px;
                           color:#721c24;">
                    <i class="fa fa-exclamation-circle"></i> @TempData["Error"]
                </div>
            }

        <form method="post" action="@Url.Action("ContactSend","Trangchu")">
            @Html.AntiForgeryToken()

            <!-- Họ và Tên -->
            <div style="margin-bottom:16px;">
                <label style="display:block;
                                   font-size:.8rem;
                                   font-weight:500;
                                   color:#000;
                                   margin-bottom:4px;">
                    Tên của bạn
                </label>
                <input type="text" name="name" required
                       placeholder="Ví dụ: Nguyễn Minh Thống"
                       style="width:100%;
                                  border:1px solid var(--border-soft);
                                  border-radius:8px;
                                  padding:.6rem .75rem;
                                  font-size:.85rem;
                                  line-height:1.2rem;" />
            </div>
            <!-- Email -->
            <div style="margin-bottom:16px;">
                <label style="display:block; font-size:.8rem; font-weight:500; color:#000; margin-bottom:4px;">
                    Email
                </label>
                <input type="email" name="email" required
                       placeholder="Ví dụ: abc@gmail.com"
                       style="width:100%; border:1px solid var(--border-soft); border-radius:8px; padding:.6rem .75rem; font-size:.85rem; line-height:1.2rem;" />
            </div>
            <!--SĐT-->
            <div style="margin-bottom:16px;">
                <label style="display:block;
                                   font-size:.8rem;
                                   font-weight:500;
                                   color:#000;
                                   margin-bottom:4px;">
                    Số điện thoại / Zalo
                </label>
                <input type="text" name="phone" required
                       placeholder="Ví dụ: 0522 945 087"
                       style="width:100%;
                                  border:1px solid var(--border-soft);
                                  border-radius:8px;
                                  padding:.6rem .75rem;
                                  font-size:.85rem;
                                  line-height:1.2rem;" />
            </div>
            <!--Nội dung-->
            <div style="margin-bottom:16px;">
                <label style="display:block;
                                   font-size:.8rem;
                                   font-weight:500;
                                   color:#000;
                                   margin-bottom:4px;">
                    Nội dung
                </label>
                <textarea name="message" rows="4" required
                          placeholder="Bạn muốn hỏi mẫu nào, giá bao nhiêu, đổi vàng ra sao..."
                          style="width:100%;
                                     border:1px solid var(--border-soft);
                                     border-radius:8px;
                                     padding:.6rem .75rem;
                                     font-size:.85rem;
                                     line-height:1.3rem;
                                     resize:vertical;"></textarea>
            </div>

            <button type="submit"
                    class="btn-round-black"
                    style="width:100%; text-align:center;">
                Gửi yêu cầu
            </button>

            <div style="font-size:.75rem; line-height:1.2rem; color:var(--text-soft); margin-top:12px;">
                Chúng tôi sẽ phản hồi sớm nhất có thể qua điện thoại hoặc Zalo.
            </div>
        </form>
        </div>
    </div>
    <!-- ✅ BÊN PHẢI: THÔNG TIN & BẢN ĐỒ -->
    <div class="col-md-6" style="display:flex; flex-direction:column;">

        <div class="hero-eyebrow" style="margin-bottom:4px;">
            Kết nối với D&T Jewelry
        </div>

        <div class="hero-headline" style="margin-bottom:8px;">
            Liên hệ & tư vấn.
            <span class="hl-gold">Chúng tôi luôn sẵn sàng.</span>
        </div>

        <div class="hero-subtitle" style="margin-bottom:20px;">
            Gọi trực tiếp để được báo giá nhanh, hoặc nhắn tin để đặt mẫu / giữ mẫu.
            Mang trang sức đến cửa hàng để thu đổi / kiểm tra tuổi vàng.
        </div>

        <!-- Thông tin cửa hàng -->
        <div class="product-card" style="margin-bottom:16px; text-align:left; padding:20px;">
            <div style="font-size:0.8rem;
                        font-weight:600;
                        text-transform:uppercase;
                        letter-spacing:.08em;
                        color:var(--brand-gold);
                        margin-bottom:12px;">
                Thông tin cửa hàng
            </div>
            <div style="font-size:.9rem; line-height:1.5rem; color:#000; font-weight:600; margin-bottom:8px;">
                D&T JEWELRY
            </div>
            <div style="font-size:.85rem; line-height:1.4rem; color:var(--text-dim); margin-bottom:12px;">
                161 ĐHT 02 Phường Đông Hưng Thuận, Quận 12, TP Hồ Chí Minh<br />
                Mở cửa: 9:00 - 21:00 (T2 - CN)
            </div>
            <div style="font-size:.85rem; line-height:1.4rem; color:#000; font-weight:500; margin-bottom:4px;">
                Hotline: <a href="tel:19001011" style="color:#000; text-decoration:none; font-weight:600;">1900 1011</a>
            </div>
            <div style="font-size:.85rem; line-height:1.4rem; color:#000; font-weight:500; margin-bottom:4px;">
                Zalo: <a href="https://zalo.me/0522945087" style="color:#000; text-decoration:none; font-weight:600;">0522 945 087</a>
            </div>
            <div style="font-size:.85rem; line-height:1.4rem; color:#000; font-weight:500; margin-bottom:0;">
                Email: <a href="mailto:DTjewerly2025@gmail.com" style="color:#000; text-decoration:none; font-weight:600;">DTjewerly2025@gmail.com</a>
            </div>
        </div>

        <!-- Bản đồ -->
        <div class="product-card" style="flex:1; text-align:left;">
            <div style="font-size:0.8rem;
                        font-weight:600;
                        text-transform:uppercase;
                        letter-spacing:.08em;
                        color:var(--brand-gold);
                        margin-bottom:12px;">
                Bản đồ
            </div>
            <div style="flex:1; width:100%; border-radius:8px; overflow:hidden; box-shadow:0 10px 24px rgba(0,0,0,0.08);">
                <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d4660.1024527088175!2d106.62465429222672!3d10.837046911748109!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x31752a2acbbc55bd%3A0x4e268ca9712ff5b5!2zMTYxIMSQw7RuZyBIxrBuZyBUaHXhuq1uIDIsIMSQw7RuZyBIxrBuZyBUaHXhuq1uLCBRdeG6rW4gMTIsIFRow6BuaCBwaOG7kSBI4buTIENow60gTWluaCwgVmlldG5hbQ!5e0!3m2!1sen!2s!4v1761744950695!5m2!1sen!2s"
                        style="width:100%; height:100%; border:0;"
                        allowfullscreen=""
                        loading="lazy"
                        referrerpolicy="no-referrer-when-downgrade"></iframe>
            </div>
        </div>
    </div>
</div>

<hr style="border-top:1px solid var(--border-soft); margin:24px 0;" />

<span class="section-heading">Dịch vụ hỗ trợ</span>

<div class="row">
    <div class="col-md-4" style="margin-bottom:16px;">
        <div class="service-block-title">Thu mua / thu đổi vàng</div>
        <div class="service-block-desc">
            Gọi trước để báo giá sơ bộ, mang sản phẩm đến cửa hàng để cân và kiểm tra tuổi vàng tại chỗ.
        </div>
    </div>
    <div class="col-md-4" style="margin-bottom:16px;">
        <div class="service-block-title">Đặt mẫu cưới</div>
        <div class="service-block-desc">
            Nhẫn cưới, vòng đôi, dây chuyền cặp. Có dịch vụ giữ mẫu theo size tay.
        </div>
    </div>
    <div class="col-md-4" style="margin-bottom:16px;">
        <div class="service-block-title">Làm sáng miễn phí</div>
        <div class="service-block-desc">
            Làm sạch, đánh bóng cơ bản trọn đời cho sản phẩm mua tại cửa hàng.
        </div>
    </div>
</div>
@section Scripts {
    <script>
        $(document).ready(function () {
            $('form').submit(function (e) {
                var name = $('input[name="name"]').val().trim();
                var phone = $('input[name="phone"]').val().replace(/\s/g, '');
                var message = $('textarea[name="message"]').val().trim();

                // Kiểm tra tên
                if (name.length < 2) {
                    alert('Vui lòng nhập tên ít nhất 2 ký tự!');
                    e.preventDefault();
                    return false;
                }

                // Kiểm tra định dạng số điện thoại VN
                var phoneRegex = /^(0[3|5|7|8|9])+([0-9]{8})$/;
                if (!phoneRegex.test(phone)) {
                    alert('Số điện thoại không hợp lệ! Vui lòng nhập đúng định dạng (VD: 0901234567)');
                    e.preventDefault();
                    return false;
                }

                // Kiểm tra nội dung
                if (message.length < 10) {
                    alert('Nội dung phải có ít nhất 10 ký tự!');
                    e.preventDefault();
                    return false;
                }
            });
        });
    </script>
}